<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<meta property="og:title" content="Demonstrate The Central Limit Theorem" />
<meta property="og:description" content="Python introduction to the central limit theorem" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://chrisalbon.com/statistics/frequentist/demonstrate_the_central_limit_theorem/" />



<meta property="article:published_time" content="2017-12-20T11:53:49-07:00"/>

<meta property="article:modified_time" content="2017-12-20T11:53:49-07:00"/>











<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Demonstrate The Central Limit Theorem"/>
<meta name="twitter:description" content="Python introduction to the central limit theorem"/>
<meta name="generator" content="Hugo 0.31.1" />

    
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "headline": "Demonstrate The Central Limit Theorem",
  "url": "https://chrisalbon.com/statistics/frequentist/demonstrate_the_central_limit_theorem/",
  "wordCount": "255",
  "datePublished": "2017-12-20T11:53:49-07:00",
  "dateModified": "2017-12-20T11:53:49-07:00",
  "author": {
    "@type": "Person",
    "name": "Chris Albon"
  },
  "description": "Python introduction to the central limit theorem"
}
</script>



    <link rel="canonical" href="https://chrisalbon.com/statistics/frequentist/demonstrate_the_central_limit_theorem/">

    <title>Demonstrate The Central Limit Theorem | Chris Albon</title>

    <!-- combined, minified CSS -->
    <link href="https://chrisalbon.com/css/style.css" rel="stylesheet" integrity="" crossorigin="anonymous">
    <link href="https://chrisalbon.com/css/main.css" rel="stylesheet" integrity="" crossorigin="anonymous">

    

    

    <script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\[','\]']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre','code'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});
</script>

  </head>

  <body>

    <div class="blog-masthead">
      <div class="container">
        <nav class="nav blog-nav">
          <a class="nav-link" href="https://chrisalbon.com/">Home</a></nav>
      </div>
    </div>

    <div class="container">
      <div class="row">
        <div class="col-sm-12 blog-main">

          


<article class="blog-post">
  <header>
    <h2 class="blog-post-title"><a href="https://chrisalbon.com/statistics/frequentist/demonstrate_the_central_limit_theorem/">Demonstrate The Central Limit Theorem</a></h2>
    <p class="blog-post-meta"><time datetime="2017-12-20T11:53:49-07:00">Wed Dec 20, 2017</time></p>
  </header>
  

<h2 id="preliminaries">Preliminaries</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#888"># Import packages</span>
<span style="color:#080;font-weight:bold">import</span> <span style="color:#0e84b5;font-weight:bold">pandas</span> <span style="color:#080;font-weight:bold">as</span> <span style="color:#0e84b5;font-weight:bold">pd</span>
<span style="color:#080;font-weight:bold">import</span> <span style="color:#0e84b5;font-weight:bold">numpy</span> <span style="color:#080;font-weight:bold">as</span> <span style="color:#0e84b5;font-weight:bold">np</span>

<span style="color:#888"># Set matplotlib as inline</span>
<span style="color:#333">%</span>matplotlib inline  </code></pre></div>
<h2 id="create-population-data-from-non-normal-distribution">Create Population Data From Non-Normal Distribution</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#888"># Create an empty dataframe</span>
population <span style="color:#333">=</span> pd<span style="color:#333">.</span>DataFrame()

<span style="color:#888"># Create an column that is 10000 random numbers drawn from a uniform distribution</span>
population[<span style="background-color:#fff0f0"></span><span style="background-color:#fff0f0">&#39;numbers&#39;</span>] <span style="color:#333">=</span> np<span style="color:#333">.</span>random<span style="color:#333">.</span>uniform(<span style="color:#00d;font-weight:bold">0</span>,<span style="color:#00d;font-weight:bold">10000</span>,size<span style="color:#333">=</span><span style="color:#00d;font-weight:bold">10000</span>)</code></pre></div><div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#888"># Plot a histogram of the score data.</span>
<span style="color:#888"># This confirms the data is not a normal distribution.</span>
population[<span style="background-color:#fff0f0"></span><span style="background-color:#fff0f0">&#39;numbers&#39;</span>]<span style="color:#333">.</span>hist(bins<span style="color:#333">=</span><span style="color:#00d;font-weight:bold">100</span>)</code></pre></div>
<pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x112c72710&gt;
</code></pre>

<p><img src="demonstrate_the_central_limit_theorem_5_1.png" alt="png" /></p>

<h2 id="view-the-true-mean-of-population">View the True Mean Of Population</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#888"># View the mean of the numbers</span>
population[<span style="background-color:#fff0f0"></span><span style="background-color:#fff0f0">&#39;numbers&#39;</span>]<span style="color:#333">.</span>mean()</code></pre></div>
<pre><code>4983.824612472138
</code></pre>

<h2 id="take-a-sample-mean-repeat-1000-times">Take A Sample Mean, Repeat 1000 Times</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#888"># Create a list</span>
sampled_means <span style="color:#333">=</span> []

<span style="color:#888"># For 1000  times,</span>
<span style="color:#080;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#007020">range</span>(<span style="color:#00d;font-weight:bold">0</span>,<span style="color:#00d;font-weight:bold">1000</span>):
    <span style="color:#888"># Take a random sample of 100 rows from the population, take the mean of those rows, append to sampled_means</span>
    sampled_means<span style="color:#333">.</span>append(population<span style="color:#333">.</span>sample(n<span style="color:#333">=</span><span style="color:#00d;font-weight:bold">100</span>)<span style="color:#333">.</span>mean()<span style="color:#333">.</span>values[<span style="color:#00d;font-weight:bold">0</span>])</code></pre></div>
<h2 id="plot-the-sample-means-of-all-100-samples">Plot The Sample Means Of All 100 Samples</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#888"># Plot a histogram of sampled_means. </span>
<span style="color:#888"># It is clearly normally distributed and centered around 5000</span>
pd<span style="color:#333">.</span>Series(sampled_means)<span style="color:#333">.</span>hist(bins<span style="color:#333">=</span><span style="color:#00d;font-weight:bold">100</span>)</code></pre></div>
<pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x11516e668&gt;
</code></pre>

<p><img src="demonstrate_the_central_limit_theorem_11_1.png" alt="png" /></p>

<p>This is the critical chart, remember that the population distribution was uniform, however, this distribution is approaching normality. This is the key point to the central limit theory, and the reason we can assume sample means are not bias.</p>

<h2 id="view-the-mean-sample-mean">View The Mean Sample Mean</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#888"># View the mean of the sampled_means</span>
pd<span style="color:#333">.</span>Series(sampled_means)<span style="color:#333">.</span>mean()</code></pre></div>
<pre><code>4981.465310909289
</code></pre>

<h2 id="compare-to-true-mean">Compare To True Mean</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#888"># Subtract Mean Sample Mean From True Population Mean</span>
error <span style="color:#333">=</span> population[<span style="background-color:#fff0f0"></span><span style="background-color:#fff0f0">&#39;numbers&#39;</span>]<span style="color:#333">.</span>mean() <span style="color:#333">-</span> pd<span style="color:#333">.</span>Series(sampled_means)<span style="color:#333">.</span>mean()

<span style="color:#888"># Print</span>
<span style="color:#080;font-weight:bold">print</span>(<span style="background-color:#fff0f0"></span><span style="background-color:#fff0f0">&#39;The Mean Sample Mean is only </span><span style="background-color:#eee">%f</span><span style="background-color:#fff0f0"> different the True Population mean!&#39;</span> <span style="color:#333">%</span> error)</code></pre></div>
<pre><code>The Mean Sample Mean is only 2.359302 different the True Population mean!
</code></pre>


</article> 



        </div> <!-- /.blog-main -->

      </div> <!-- /.row -->
    </div> <!-- /.container -->

    <footer class="blog-footer">
      <p>
      
      Blog template created by <a href="https://twitter.com/mdo">@mdo</a>, ported to Hugo by <a href='https://twitter.com/mralanorth'>@mralanorth</a>.
      
      </p>
    </footer>

  </body>

</html>
